
  <mat-drawer-container>

    <mat-drawer opened="true" disableClose="true" mode="side">

      <div class="box">
        <div id="add-friend" (click)="addFriendPage()">
          <div class="mat-icon-button">
            <mat-icon inline="true">person_add</mat-icon>
          </div>
          <div class="text">Ajouter un ami</div>
        </div>

        <div *ngFor="let friend of user.value.friends; let i = index" class="friends">
          <div class="friend" (click)="chatFriendPage(i)">
            <div class="mat-icon-button">
              <mat-icon inline="true" >person</mat-icon>
            </div>
            <div class="text">{{user.value.friends[i]}}</div>
          </div> 
        </div>

      </div>
    </mat-drawer>

    <mat-drawer-content>

      <div *ngIf="addFriend" class="content">
        <h1>Ajouter un ami</h1>
        <form id="form">
          <mat-form-field appearance="fill">
            <mat-label for="username">Entrez le pseudonyme de l'utilisateur</mat-label>
            <input #usernameInput matInput placeholder="Entrez le pseudonyme de l'utilisateur" name="usename" [(ngModel)]="friendUsername" required>
          </mat-form-field>
          <button mat-flat-button color="primary" type="submit" (click)="sendFriendRequest()">Envoyer une demande d'ami</button>
        </form>
      </div>

      <div *ngIf="chatFriend" class="content">
        <app-chat-box></app-chat-box>
      </div>
    </mat-drawer-content>

  </mat-drawer-container>

    <!--
      <button mat-fab color="primary" class="home-button" routerLink="/home" routerLinkActive="router-link-active">
        <mat-icon>home</mat-icon>
      </button>
    <div *ngFor="let friend of user.value.friends">
        <a (click)="friendChat(friend)">{{friend}}</a>
    </div>

    <app-chat-box *ngIf="inDM"></app-chat-box>
      <button (click)="console()">
        Bruh
      </button>

      <button (click)="initFriend()">
        Bruh2
      </button>

      <button (click)="addFriendTemp()">
        Bruh3
      </button>
    -->
    
    <!-- <form (ngSubmit)="addFriend(friendInput.value)" [formGroup]="friendForm">
        <mat-form-field appearance="fill">
          <mat-label>Entrez le nom de l'ami que vous souhaitez ajouter</mat-label>
          <input
            #friendInput
            type="text"
            id="chatBoxInput"
            formControlName="input"
            autocomplete="off"
            (keypress.enter)="submitBtn._elementRef.nativeElement.click()"
            matInput
            [errorStateMatcher]="messageValidator"
          /> -->
          <!-- <mat-error *ngIf="input.hasError('maxlength')">Votre message <strong>excède</strong> la limite de charactères</mat-error> -->
        <!-- </mat-form-field>
        <button
          #submitBtn
          mat-mini-fab
          color="primary"
          [disabled]="false"
          id="submitBtn"
          type="submit"
        >
          <mat-icon>Add</mat-icon>
        </button>
      </form> -->

      